<div class="employee-page mt-4">
  <div class="container-fluid">
    <h2 class="text-center">
      <strong>
        {{ mode === 'add' ? 'Add Employee' : mode === 'edit' ? 'Edit Employee' : 'View Employee' }}
      </strong>
    </h2>

    <form #employeeForm="ngForm" (ngSubmit)="submitForm(employeeForm)">
      <div class="row">
        <!-- Left side -->
        <div class="col-md-6">
          <div class="form-group">
            <label>Full Name</label>
            <input type="text" class="form-control" [(ngModel)]="fullName" name="fullName" [readonly]="readonly" required>
          </div>
          <div class="form-group">
            <label>Nationality</label>
            <input type="text" class="form-control" [(ngModel)]="nationality" name="nationality" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>Blood Group</label>
            <input type="text" class="form-control" [(ngModel)]="bloodGroup" name="bloodGroup" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>Date of Birth</label>
            <input type="date" class="form-control" [(ngModel)]="dob" name="dob" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>Permanent Address</label>
            <textarea class="form-control" [(ngModel)]="permanentAddress" name="permanentAddress" [readonly]="readonly"></textarea>
          </div>
          <div class="form-group">
            <label>Designation</label>
            <input type="text" class="form-control" [(ngModel)]="designation" name="designation" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>Employee ID</label>
            <input type="text" class="form-control" [(ngModel)]="employeeId" name="employeeId" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>Employment Type</label>
            <select class="form-control" [(ngModel)]="employmentType" name="employmentType" [disabled]="readonly">
              <option value="Full-Time">Full-Time</option>
              <option value="Part-Time">Part-Time</option>
              <option value="Contract">Contract</option>
            </select>
          </div>
          <div class="form-group">
            <label>Date of Joining</label>
            <input type="date" class="form-control" [(ngModel)]="dateOfJoining" name="dateOfJoining" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>Under Contract</label>
            <select class="form-control" [(ngModel)]="underContract" name="underContract" [disabled]="readonly">
              <option *ngFor="let c of contractOptions" [value]="c._id">{{ c.contractId }}</option>
            </select>
          </div>
        </div>

        <!-- Right side -->
        <div class="col-md-6">
          <div class="form-group">
            <label>Salary</label>
            <input type="number" class="form-control" [(ngModel)]="salary" name="salary" [readonly]="readonly">
          </div>
          <h5>Bank Details</h5>
          <div class="form-group">
            <label>Bank Name</label>
            <input type="text" class="form-control" [(ngModel)]="bankName" name="bankName" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>Account No</label>
            <input type="text" class="form-control" [(ngModel)]="accountNo" name="accountNo" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>IFSC</label>
            <input type="text" class="form-control" [(ngModel)]="ifsc" name="ifsc" [readonly]="readonly">
          </div>

          <h5>Nominee</h5>
          <div class="form-group">
            <label>Name</label>
            <input type="text" class="form-control" [(ngModel)]="nomineeName" name="nomineeName" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>Relation</label>
            <input type="text" class="form-control" [(ngModel)]="nomineeRelation" name="nomineeRelation" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>Contact</label>
            <input type="text" class="form-control" [(ngModel)]="nomineeContact" name="nomineeContact" [readonly]="readonly">
          </div>

          <div class="form-group">
            <label>Visa Expiry</label>
            <input type="date" class="form-control" [(ngModel)]="visaExpiry" name="visaExpiry" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>License No</label>
            <input type="text" class="form-control" [(ngModel)]="licenseNo" name="licenseNo" [readonly]="readonly">
          </div>
          <div class="form-group">
            <label>Role</label>
            <select class="form-control" [(ngModel)]="role" name="role" [disabled]="readonly" required>
              <option value="Driver">Driver</option>
              <option value="Staff">Staff</option>
            </select>
          </div>

          <div class="form-group" *ngIf="mode !== 'add'">
            <label>Status</label>
            <select class="form-control" [(ngModel)]="status" name="status" [disabled]="readonly">
              <option [value]="1">Active</option>
              <option [value]="2">Inactive</option>
              <option [value]="0">Deleted</option>
            </select>
          </div>
        </div>
      </div>

      <div class="mt-4 text-center" *ngIf="!readonly">
        <button type="button" class="btn btn-secondary mr-3" (click)="cancel()">Cancel</button>
        <button type="submit" class="btn btn-primary">{{ id ? 'Update' : 'Save' }}</button>
      </div>
    </form>
  </div>
</div>
