<div class="container mt-5 report-container">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center my-3">
    <h5 class="mb-0">Maintenance Records Report</h5>

    <div class="d-flex gap-2 align-items-center">
      <input
        type="text"
        class="form-control form-control-sm"
        placeholder="üöê Vehicle No."
        [(ngModel)]="searchVehicle"
      />
      <input
        type="text"
        class="form-control form-control-sm"
        placeholder="üë® Driver"
        [(ngModel)]="searchDriver"
      />

      <!-- Maintenance Type (Dropdown) -->
      <select class="form-select form-select-sm" [(ngModel)]="filterType">
        <option value="">All Types</option>
        <option value="Repaired">Repaired</option>
        <option value="Serviced">Serviced</option>
        <option value="Replaced">Replaced</option>
      </select>

      <!-- Parts Serviced (Dropdown) -->
      <select class="form-select form-select-sm" [(ngModel)]="filterPart">
        <option value="">All Parts</option>
        <option value="Brake Pads">Brake Pads</option>
        <option value="Engine Oil">Engine Oil</option>
        <option value="Front Tyres">Front Tyres</option>
      </select>

      <!-- Date Range -->
      <input
        type="date"
        class="form-control form-control-sm"
        [(ngModel)]="startDate"
      />
      <input
        type="date"
        class="form-control form-control-sm"
        [(ngModel)]="endDate"
      />

      <!-- Sort -->
      <select class="form-select form-select-sm" [(ngModel)]="sortBy">
        <option value="">Sort ‚¨ç</option>
        <option value="dateAsc">Date ‚Üë</option>
        <option value="dateDesc">Date ‚Üì</option>
        <option value="vehicle">Vehicle</option>
        <option value="driver">Driver</option>
        <option value="costAsc">Cost ‚Üë</option>
        <option value="costDesc">Cost ‚Üì</option>
      </select>

      <!-- Download PDF -->
      <button class="btn btn-sm btn-primary" (click)="downloadPDF()">
        <i class="bi bi-file-earmark-arrow-down"></i> PDF
      </button>
    </div>
  </div>

  <!-- Table -->
  <div #maintenanceTable>
    <table class="table table-bordered table-striped custom-table">
      <thead>
        <tr>
          <th>DATE</th>
          <th>VEHICLE NO.</th>
          <th>DRIVER NAME</th>
          <th>MAINTENANCE TYPE</th>
          <th>PARTS REPLACED / SERVICED</th>
          <th>MAINTENANCE COST</th>
          <th>REMARKS</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of filteredRecords">
          <td>{{ row.date }}</td>
          <td>{{ row.vehicleNo }}</td>
          <td>{{ row.driverName }}</td>
          <td>{{ row.type }}</td>
          <td>{{ row.parts }}</td>
          <td>{{ row.cost | currency : "INR" : "symbol" : "1.0-0" }}</td>
          <td>{{ row.remarks }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
