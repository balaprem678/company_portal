doctype html
html(ng-app='readytoeat.site' ng-controller='rootCtrl as rc', id = "rootCtrl")
  head
    base(href='/')
    title() #{title}
    meta(name='description' content='{{ngMeta.description}}')
    meta(name='keyword' content='{{ngMeta.keyword}}')
    meta(http-equiv='Content-Type' content='text/html; charset=utf-8')
    meta(name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no')

    meta(property='og:title', content=title)
    meta(property='og:type' content="article")
    meta(property='og:image', content=image)
    meta(property='og:url', content=siteUrl)
    meta(property='og:description', content=description)

    link(rel='icon' href='{{rc.favicon}}')
    script.
      var googleMapAPI = "#{googleMapAPI}" ;
    //- inject:css
    link(rel="stylesheet" href="/app/site/public/css/library/bootstrap.min.css")
    link(rel="stylesheet" href="/app/site/public/css/library/font-awesome.min.css")
    link(rel="stylesheet" href="/app/site/public/css/plugins/bootstrap-select.min.css")
    link(rel="stylesheet" href="/app/site/public/css/main.css")
    //- link(rel="stylesheet" href="/app/site/public/css/driver.css")
    link(rel="stylesheet" href="/app/site/public/css/responsive.css")
    link(rel="stylesheet" href="/app/admin/public/css/lib/angular-toastr.min.css")
    link(rel="stylesheet" href="/app/site/public/css/library/intlTelInput.css")
    link(rel="stylesheet" href="/app/site/public/newcrop/ui-cropper.css")
    link(rel="stylesheet" href="/app/site/public/css/select.css")
    link(rel="stylesheet" href="/app/site/public/css/sweetalert.css")
    link(rel="stylesheet" href="/app/site/public/css/library/lazy-image-style.css")
    link(rel="stylesheet" href="/app/site/public/css/library/jquery-ui.css")
    link(rel="stylesheet" href="/app/site/public/css/brand-home.css")
    link(rel="stylesheet" href="/app/site/public/css/animate.css")
    link(rel="stylesheet" href="/app/site/public/css/library/angular-material.css")
    link(rel="stylesheet" href="/app/site/public/css/slick.css")
    link(rel="stylesheet" href="/app/site/public/css/slick-theme.css")
    link(rel="stylesheet" href="/app/site/public/css/customization.css")
    link(rel="stylesheet" href="/app/site/public/css/color-changes.css")
    link(rel="stylesheet" href="/app/site/public/css/header.css")
    link(rel="stylesheet" href="/app/site/public/css/landing.css")
    link(rel="stylesheet" href="/app/site/public/css/details-page.css")
    link(rel="stylesheet" href="/app/site/public/css/responsive-style.css")
    //- endinject


    script(src='/app/site/public/scripts/library/jquery-2.2.3.min.js')
    script(src='/app/site/public/scripts/library/angular.min.js')
    script(src='/app/site/public/scripts/library/bootstrap.min.js')   
    script(src='/app/site/public/scripts/plugins/bootstrap-select.min.js')
    script(src='/app/site/public/scripts/library/ui-bootstrap-tpls-2.5.0.min.js')
    script(src='/app/site/public/scripts/angular-input-masks-standalone.min.js')
    script(src='/app/site/public/scripts/lazyload.js')
    script(src='/app/site/public/scripts/wow.js')
        script(src='/app/site/public/scripts/wow.min.js')

    //- inject:js    
    script(src="/app/site/public/scripts/library/angular-slugify.js")    
    script(src="/app/site/public/scripts/library/angular-animate.js")    
    script(src="/app/site/public/scripts/library/angular-cookies.js")    
    script(src="/app/site/public/scripts/library/angular-ui-router.js")    
    //-script(src="/app/site/public/scripts/library/angular-route.js")    
    script(src="/app/site/public/scripts/library/lazy-image.js")
    script(src="/app/site/public/scripts/library/socket.io.js")    
    script(src="/app/site/public/scripts/library/angular-aria.min.js")    
    script(src="/app/site/public/scripts/library/angular-messages.min.js")    
    script(src="/app/site/public/scripts/library/angular-material.js")    
    script(src="/app/site/public/scripts/angular-socialshare.js")    
    script(src="/app/site/public/scripts/library/angular-sanitize.js")    
    script(src="/app/site/public/scripts/library/angular-toastr.tpls.js")    
    script(src="/app/site/public/scripts/library/jquery-ui.js")    
    script(src="/app/site/public/scripts/library/ng-map.js")    
    script(src="/app/site/public/newcrop/ui-cropper.js")    
    script(src="/app/site/public/scripts/library/calendar.js")    
    script(src="/app/site/public/scripts/library/ng-file-upload-shim.js")    
    script(src="/app/site/public/scripts/library/ng-file-upload.js")    
    script(src="/app/site/public/scripts/library/ng-intl-tel-input/intlTelInput.js")    
    script(src="/app/site/public/scripts/library/ng-intl-tel-input/utils.js")    
    script(src="/app/site/public/scripts/library/select.js")    
    script(src="/app/site/public/scripts/sweetalert.js")    
    script(src="/app/site/public/scripts/ngSweetAlert.js")    
    script(src="/app/site/public/scripts/angular-scroll.js")    
    script(src="/app/site/public/scripts/angular-translate.js")    
    script(src="/app/site/public/scripts/angular-translate-storage-cookie.js")    
    script(src="/app/site/public/scripts/angular-translate-storage-local.js")    
    script(src="/app/site/public/scripts/angular-translate-loader-static-files.js")    
    script(src="/app/site/public/scripts/validate.js")    
    script(src="/app/site/public/scripts/moment.js")    
    script(src="/app/site/public/scripts/moment-timezone-with-data-2010-2020.js")    
    script(src="/app/site/public/scripts/angular-moment.js")    
    script(src="/app/site/public/scripts/ngMeta.js")    
    script(src="/app/site/public/scripts/slider.js")    
    script(src="/app/site/public/scripts/application-server-key.js")    
    script(src="/app/site/public/scripts/angular-slick.min.js")    
    script(src="/app/site/public/scripts/slick.js")    
    script(src="/app/site/modules/app.js")    
    script(src="/app/site/modules/common/models/app_factory.js")    
    script(src="/app/site/modules/common/models/notifications.js")    
    script(src="/app/site/modules/users/controllers/authentication/controllers.js")    
    script(src="/app/site/modules/users/controllers/authentication/services.js")    
    script(src="/app/site/modules/common/directives/onblurvalidation.js")    
    script(src="/app/site/modules/common/directives/common_activity.js")    
    script(src="/app/site/modules/common/directives/checklist-model.js")    
    script(src="/app/site/modules/common/directives/ng-intl-tel-input.js")    
    script(src="/app/site/modules/messages/models/socket.js")    
    script(src="/app/site/modules/restaurant/controllers/restaurant_dashboard.js")    
    script(src="/app/site/modules/restaurant/controllers/restaurant_about.js")    
    script(src="/app/site/modules/driver/controllers/driver.js")    
    script(src="/app/site/modules/restaurant/controllers/restaurant_set_categories.js")    
    script(src="/app/site/modules/restaurant/controllers/restaurant_add_food.js")    
    script(src="/app/site/modules/restaurant/controllers/restaurant_menu.js")    
    script(src="/app/site/modules/restaurant/models/restaurant_factory.js")    
    script(src="/app/site/modules/orders/controllers/rest_orderHistory.js")    
    script(src="/app/site/modules/orders/controllers/restaurant_orders.js")    
    script(src="/app/site/modules/orders/models/order_factory.js")    
    script(src="/app/site/modules/driver/models/driver_factory_services.js")    
    script(src="/app/site/modules/pages/controllers/pages.js")    
    script(src="/app/site/modules/pages/models/pages_factory.js")    
    script(src="/app/site/public/scripts/socket.io.js")    
    script(src="/app/site/public/scripts/socket.io-stream.js")    
    script(src="/app/site/modules/common_factory.js")    
    script(src="/app/site/modules/socket.js")    
    script(src="/app/site/modules/socketStream.js")    
    script(src="/app/site/modules/users/controllers/users.js")    
    //- endinject

    script(src="/app/site/public/scripts/velocity.min.js")
    script(src="/app/site/public/scripts/TweenMax.min.js")
    script(src="/app/site/public/scripts/ScrollMagic.min.js")
    script(src="/app/site/public/scripts/animation.gsap.min.js")
    script(src="/app/site/public/scripts/debug.addIndicators.min.js")
    //-script(src="/app/site/public/scripts/library/payment-gateways/stripe.js")

    //-script(src='//maps.google.com/maps/api/js?key=' + googleMapAPI + '&libraries=placeses,visualization,drawing,geometry,places')
    script(src='//maps.google.com/maps/api/js?key=' + googleMapAPI + '&libraries=places')
    //-script(src='//connect.facebook.net/en_US/all.js')
    //-script.
      FB.init({
        appId:'#{fbappId}',
        cookie:true,
        status:true,
        xfbml:true,
        version:'v2.8'
      });
  body(id="res-detail-scroll-container",scroll-to-top,viewport-checker,class="{{newLocation ?'location-active' : ''}} {{newSearch ?'search-active' : ''}} {{newFilter ?'filter-active' : ''}}")
    section#rootCtrl.app-commonview-wrap(ui-view='commonview' autoscroll="false" class="content-viewer")
      section(ng-show="($state.current.name != 'about_my_business') && ($state.current.name != 'res_dashboard') && ($state.current.name != 'scheduledorders') && ($state.current.name != 'order_history') && ($state.current.name != 'set_categories') && ($state.current.name != 'add_food_items') && ($state.current.name != 'menu') &&  ($state.current.name != 'ongoing-orders') && ($state.current.name != 'rejected-orders') && ($state.current.name != 'orders') && ($state.current.name != 'restaurant-details')" ng-include="'app/site/modules/common/views/header.html'" class="content-viewer")
      section(ng-show="($state.current.name === 'about_my_business')||($state.current.name === 'res_dashboard')||($state.current.name === 'scheduledorders')||($state.current.name === 'order_history') || ($state.current.name === 'orders')||($state.current.name === 'set_categories')||($state.current.name === 'add_food_items')||($state.current.name === 'menu')||($state.current.name === 'ongoing-orders') || ($state.current.name === 'rejected-orders')" ng-include="'app/site/modules/common/views/dashboardheader.html'")
      section.app-contentview-wrap(ui-view='content' autoscroll='false' class="content-viewer")
      //- section(ng-show="($state.current.name != 'about_my_business') && ($state.current.name != 'res_dashboard')&& ($state.current.name != 'scheduledorders') && ($state.current.name != 'order_history') && ($state.current.name != 'ongoing-orders') && ($state.current.name != 'rejected-orders') && ($state.current.name != 'set_categories') && ($state.current.name != 'add_food_items') && ($state.current.name != 'menu') && ($state.current.name != 'orders') && ($state.current.name != 'restaurant-details')" ng-include="'app/site/modules/common/views/footer.html'")
      section.footer
        .container
          | !{widgets.footer_widgets_1}
          | !{widgets.footer_widgets_2}
          | !{widgets.footer_widgets_3}
          | !{widgets.footer_widgets_4}
          | !{widgets.footer_widgets_5}
    section.app-specialview-wrap(ui-view='specialview' autoscroll="false" class="content-viewer")
    span.load-fade(ng-if='imgSrc')
      //-img.loader(img-preload='' src='/app/site/public/images/loader.gif')
      //.cssload-loader
        //.cssload-inner.cssload-one
        //.cssload-inner.cssload-two
        //.cssload-inner.cssload-three
    //div(class="preloader-wrap page-preloader")
      //div.preloader-innerwrap
        //img(src="app/site/public/images/preLoader.gif")
    //div(class="preloader-wrap progress-loader" style="visibility:hidden")
      //div.preloader-innerwrap
        //img(src="app/site/public/images/preLoader.gif")
script.
  !function(window){
  var $q = function(q, res){
  if (document.querySelectorAll) {
  res = document.querySelectorAll(q);
  } else {
  var d=document
  , a=d.styleSheets[0] || d.createStyleSheet();
  a.addRule(q,'f:b');
  for(var l=d.all,b=0,c=[],f=l.length;b<f;b++)
  l[b].currentStyle.f && c.push(l[b]);
  a.removeRule(0);
  res = c;
  }
  return res;
  }
  , addEventListener = function(evt, fn){
  window.addEventListener
  ? this.addEventListener(evt, fn, false)
  : (window.attachEvent)
  ? this.attachEvent('on' + evt, fn)
  : this['on' + evt] = fn;
  }
  , _has = function(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
  }
  ;
  function loadImage (el, fn) {
  var img = new Image()
  , src = el.getAttribute('data-src');
  img.onload = function() {
  if (!! el.parent)
  el.parent.replaceChild(img, el)
  else
  el.src = src;
  fn? fn() : null;
  }
  img.src = src;
  }
  function elementInViewport(el) {
  var rect = el.getBoundingClientRect()
  return (
  rect.top    >= 0
  && rect.left   >= 0
  && rect.top <= (window.innerHeight || document.documentElement.clientHeight)
  )
  }
  var images = new Array()
  , query = $q('img.lazy')
  , processScroll = function(){
  for (var i = 0; i < images.length; i++) {
  if (elementInViewport(images[i])) {
  loadImage(images[i], function () {
  images.splice(i, i);
  });
  }
  };
  }
  ;
  // Array.prototype.slice.call is not callable under our lovely IE8
  for (var i = 0; i < query.length; i++) {
  images.push(query[i]);
  };
  processScroll();
  addEventListener('scroll',processScroll);
  }(this);
